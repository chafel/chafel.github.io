<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<title>看看你在哪？</title>
	<script type="text/javascript" src="myLoc.js"></script>
	<style type="text/css">
		body, html{width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";text-align: center;}
		#location,#city{margin: 10px auto;}
		#allmap{width: 80%;overflow: hidden;margin-top:10px;}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=YiKTXv0q7G3fmNCNwLI8NfNx"></script>
	
</head>
<body>
	<h3>那些花儿，她们现在在哪呢？</h3>
	<h2>1.Html5自带定位API定位</h2>
	<i>请允许浏览器获取你的位置信息并稍等片刻！</i>
	<div id="location"></div>
	<h2>2.百度地图API定位</h2>
	<div id="city"></div>
	<a href="dingwei.html">点此查看大图</a>
	<div id="allmap"></div> 
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");
	var point = new BMap.Point(116.331398,39.897445);
	map.centerAndZoom(point,12);

	function myFun(result){
		var cityName = result.name;
		map.setCenter(cityName);
		var div = document.getElementById("city");
		div.innerHTML = "当前定位城市:"+cityName;
		// alert("当前定位城市:"+cityName);
	}
	var myCity = new BMap.LocalCity();
	myCity.get(myFun);
</script>

<!-- HTML5定位JS放在myLoc.js，以下代码为百度地图定位 -->
<!-- <div id="map" style="width:500px;height:320px"></div>  -->
<!--<script type="text/javascript">-->   
<!-- 	// function initialize() {  
	//   var mp = new BMap.Map('map');  
	//   mp.centerAndZoom(new BMap.Point(121.491, 31.233), 11); 
	  
	//   var opts = {type: BMAP_NAVIGATION_CONTROL_SMALL}    
	//   map.addControl(new BMap.NavigationControl(opts)); 
	// }  
	   
	// function loadScript() {  
	//   var script = document.createElement("script");  
	//   script.src = "http://api.map.baidu.com/api?v=1.5&ak=YiKTXv0q7G3fmNCNwLI8NfNx&callback=initialize";//此为v1.5版本的引用方式  
	//   // http://api.map.baidu.com/api?v=1.5&ak=您的密钥&callback=initialize"; //此为v1.4版本及以前版本的引用方式  
	//   document.body.appendChild(script);  
	// }  
	   
	// window.onload = loadScript; 
	// // 自定义控件必须实现initialize方法，并且将控件的DOM元素返回   
	// // 在本方法中创建个div元素作为控件的容器，并将其添加到地图容器中   
	// ZoomControl.prototype.initialize = function(map){    
	// // 创建一个DOM元素   
	//  var div = document.createElement("div");    
	// // 添加文字说明    
	//  div.appendChild(document.createTextNode("放大2级"));    
	//  // 设置样式    
	//  div.style.cursor = "pointer";    
	//  div.style.border = "1px solid gray";    
	//  div.style.backgroundColor = "white";    
	//  // 绑定事件，点击一次放大两级    
	//  div.onclick = function(e){  
	//   map.zoomTo(map.getZoom() + 2);    
	//  }    
	//  // 添加DOM元素到地图中   
	//  map.getContainer().appendChild(div);    
	//  // 将DOM元素返回  
	//  return div;    
	//  } 
	// </script>   -->